<?php

defined( 'ABSPATH' ) || exit;

use Membership\Utils\Helper;

$cards = array(
	array(
		'title'        => esc_html__( 'Subscription', 'create-members' ),
		'total_data'   => $total_plan,
		'bg_color'     => '#24A4EC',
		'details_link' => admin_url() . 'admin.php?page=um-plans',
		'summary'      => array(
			array(
				'title' => esc_html__( 'Active Subscriptions', 'create-members' ),
				'data'  => $active_plan,
			),
			array(
				'title' => esc_html__( 'InActive Subscriptions', 'create-members' ),
				'data'  => $inactive_plan,
			),
		),
		'icon'         => '<svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle opacity="0.15" cx="35" cy="35" r="35" fill="#24A4EC"></circle>
        <path d="M41.5614 24.1171V22.0121C41.5614 21.4588 41.1024 21 40.5489 21C39.9954 21 39.5365 21.4588 39.5365 22.0121V24.0362H30.7619V22.0121C30.7619 21.4588 30.3029 21 29.7495 21C29.196 21 28.737 21.4588 28.737 22.0121V24.1171C25.0922 24.4545 23.3238 26.627 23.0538 29.8521C23.0268 30.2435 23.3508 30.5673 23.7288 30.5673H46.5696C46.9611 30.5673 47.2851 30.23 47.2446 29.8521C46.9746 26.627 45.2062 24.4545 41.5614 24.1171Z" fill="#24A4EC"></path>
        <path d="M45.9489 32.5913H24.3499C23.6075 32.5913 23 33.1985 23 33.9407V42.2531C23 46.3014 25.0249 49.0002 29.7497 49.0002H40.5491C45.2739 49.0002 47.2988 46.3014 47.2988 42.2531V33.9407C47.2988 33.1985 46.6913 32.5913 45.9489 32.5913ZM31.3831 43.8859C31.2481 44.0073 31.0996 44.1018 30.9376 44.1693C30.7756 44.2368 30.6001 44.2772 30.4246 44.2772C30.2491 44.2772 30.0737 44.2368 29.9117 44.1693C29.7497 44.1018 29.6012 44.0073 29.4662 43.8859C29.2232 43.6295 29.0747 43.2787 29.0747 42.9278C29.0747 42.577 29.2232 42.2261 29.4662 41.9697C29.6012 41.8483 29.7497 41.7538 29.9117 41.6864C30.2356 41.5514 30.6136 41.5514 30.9376 41.6864C31.0996 41.7538 31.2481 41.8483 31.3831 41.9697C31.6261 42.2261 31.7746 42.577 31.7746 42.9278C31.7746 43.2787 31.6261 43.6295 31.3831 43.8859ZM31.6666 38.7176C31.5991 38.8796 31.5046 39.028 31.3831 39.163C31.2481 39.2844 31.0996 39.3789 30.9376 39.4463C30.7756 39.5138 30.6001 39.5543 30.4246 39.5543C30.2491 39.5543 30.0737 39.5138 29.9117 39.4463C29.7497 39.3789 29.6012 39.2844 29.4662 39.163C29.3447 39.028 29.2502 38.8796 29.1827 38.7176C29.1152 38.5557 29.0747 38.3803 29.0747 38.2049C29.0747 38.0294 29.1152 37.854 29.1827 37.6921C29.2502 37.5302 29.3447 37.3817 29.4662 37.2468C29.6012 37.1253 29.7497 37.0309 29.9117 36.9634C30.2356 36.8285 30.6136 36.8285 30.9376 36.9634C31.0996 37.0309 31.2481 37.1253 31.3831 37.2468C31.5046 37.3817 31.5991 37.5302 31.6666 37.6921C31.7341 37.854 31.7746 38.0294 31.7746 38.2049C31.7746 38.3803 31.7341 38.5557 31.6666 38.7176ZM36.1079 39.163C35.9729 39.2844 35.8244 39.3789 35.6624 39.4463C35.5004 39.5138 35.3249 39.5543 35.1494 39.5543C34.9739 39.5543 34.7984 39.5138 34.6364 39.4463C34.4744 39.3789 34.3259 39.2844 34.191 39.163C33.948 38.9066 33.7995 38.5557 33.7995 38.2049C33.7995 37.854 33.948 37.5032 34.191 37.2468C34.3259 37.1253 34.4744 37.0309 34.6364 36.9634C34.9604 36.815 35.3384 36.815 35.6624 36.9634C35.8244 37.0309 35.9729 37.1253 36.1079 37.2468C36.3509 37.5032 36.4993 37.854 36.4993 38.2049C36.4993 38.5557 36.3509 38.9066 36.1079 39.163Z" fill="#24A4EC"></path>
    </svg>',
	),
	array(
		'title'        => esc_html__( 'Members', 'create-members' ),
		'total_data'   => $total_members,
		'bg_color'     => '#01AF28',
		'details_link' => admin_url() . 'admin.php?page=um-members',
		'summary'      => array(
			array(
				'title' => esc_html__( 'Active Members', 'create-members' ),
				'data'  => $active_members,
			),
			array(
				'title' => esc_html__( 'InActive Members', 'create-members' ),
				'data'  => $inactive_members,
			),
		),
		'icon'         => '<svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle opacity="0.15" cx="35" cy="35" r="35" fill="#01AF28"></circle>
            <path d="M40.92 22.3335H29.7467C24.8933 22.3335 22 25.2268 22 30.0802V41.2535C22 45.0002 23.72 47.5735 26.7467 48.5468C27.6267 48.8535 28.64 49.0002 29.7467 49.0002H40.92C42.0267 49.0002 43.04 48.8535 43.92 48.5468C46.9467 47.5735 48.6667 45.0002 48.6667 41.2535V30.0802C48.6667 25.2268 45.7733 22.3335 40.92 22.3335ZM46.6667 41.2535C46.6667 44.1068 45.5467 45.9068 43.2933 46.6535C42 44.1068 38.9333 42.2935 35.3333 42.2935C31.7333 42.2935 28.68 44.0935 27.3733 46.6535H27.36C25.1333 45.9335 24 44.1202 24 41.2668V30.0802C24 26.3202 25.9867 24.3335 29.7467 24.3335H40.92C44.68 24.3335 46.6667 26.3202 46.6667 30.0802V41.2535Z" fill="#1DBE41"></path>
            <path d="M35.3358 30.3335C32.6958 30.3335 30.5625 32.4668 30.5625 35.1068C30.5625 37.7468 32.6958 39.8935 35.3358 39.8935C37.9758 39.8935 40.1092 37.7468 40.1092 35.1068C40.1092 32.4668 37.9758 30.3335 35.3358 30.3335Z" fill="#1DBE41"></path>
            <circle cx="46" cy="26.3335" r="4" fill="white"></circle>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M45.9993 31.6667C48.9449 31.6667 51.3327 29.2789 51.3327 26.3333C51.3327 23.3878 48.9449 21 45.9993 21C43.0538 21 40.666 23.3878 40.666 26.3333C40.666 29.2789 43.0538 31.6667 45.9993 31.6667ZM45.0098 24.3442C45.0098 23.792 45.4575 23.3442 46.0098 23.3442C46.5621 23.3442 47.0098 23.792 47.0098 24.3442V25.3442H48.0098C48.5621 25.3442 49.0098 25.792 49.0098 26.3442C49.0098 26.8965 48.5621 27.3442 48.0098 27.3442H47.0098V28.3442C47.0098 28.8965 46.5621 29.3442 46.0098 29.3442C45.4575 29.3442 45.0098 28.8965 45.0098 28.3442V27.3442H44.0098C43.4575 27.3442 43.0098 26.8965 43.0098 26.3442C43.0098 25.792 43.4575 25.3442 44.0098 25.3442H45.0098V24.3442Z" fill="#1DBE41"></path>
        </svg>',
	),
	array(
		'title'        => esc_html__( 'Revenue', 'create-members' ),
		'details_link' => class_exists( 'WooCommerce' ) ? admin_url() . 'admin.php?page=wc-orders' : '#',
		'total_data'   => $orders_count,
		'bg_color'     => '#AD00FF',
		'summary'      => array(
			array(
				'title' => esc_html__( 'Sales', 'create-members' ),
				'data'  => $total_sales,
			),
			array(
				'title' => esc_html__( 'Refund', 'create-members' ),
				'data'  => $total_refunds,
			),
		),
		'icon'         => '
                <svg width="60" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle opacity="0.15" cx="35" cy="35" r="35" fill="#AD00FF"/>
                    <path d="M40.92 22.3335H29.7467C24.8933 22.3335 22 25.2268 22 30.0802V41.2535C22 45.0002 23.72 47.5735 26.7467 48.5468C27.6267 48.8535 28.64 49.0002 29.7467 49.0002H40.92C42.0267 49.0002 43.04 48.8535 43.92 48.5468C46.9467 47.5735 48.6667 45.0002 48.6667 41.2535V30.0802C48.6667 25.2268 45.7733 22.3335 40.92 22.3335ZM46.6667 41.2535C46.6667 44.1068 45.5467 45.9068 43.2933 46.6535C42 44.1068 38.9333 42.2935 35.3333 42.2935C31.7333 42.2935 28.68 44.0935 27.3733 46.6535H27.36C25.1333 45.9335 24 44.1202 24 41.2668V30.0802C24 26.3202 25.9867 24.3335 29.7467 24.3335H40.92C44.68 24.3335 46.6667 26.3202 46.6667 30.0802V41.2535Z" fill="#AB2BE7"/>
                    <path d="M35.3358 30.3335C32.6958 30.3335 30.5625 32.4668 30.5625 35.1068C30.5625 37.7468 32.6958 39.8935 35.3358 39.8935C37.9758 39.8935 40.1092 37.7468 40.1092 35.1068C40.1092 32.4668 37.9758 30.3335 35.3358 30.3335Z" fill="#AB2BE7"/>
                    <circle cx="46" cy="26.3335" r="4" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M45.9993 31.6667C48.9449 31.6667 51.3327 29.2789 51.3327 26.3333C51.3327 23.3878 48.9449 21 45.9993 21C43.0538 21 40.666 23.3878 40.666 26.3333C40.666 29.2789 43.0538 31.6667 45.9993 31.6667ZM45.0098 24.3442C45.0098 23.792 45.4575 23.3442 46.0098 23.3442C46.5621 23.3442 47.0098 23.792 47.0098 24.3442V25.3442H48.0098C48.5621 25.3442 49.0098 25.792 49.0098 26.3442C49.0098 26.8965 48.5621 27.3442 48.0098 27.3442H47.0098V28.3442C47.0098 28.8965 46.5621 29.3442 46.0098 29.3442C45.4575 29.3442 45.0098 28.8965 45.0098 28.3442V27.3442H44.0098C43.4575 27.3442 43.0098 26.8965 43.0098 26.3442C43.0098 25.792 43.4575 25.3442 44.0098 25.3442H45.0098V24.3442Z" fill="#AB2BE7"/>
                </svg>',
	),
);

?>
<h2 class="content-header p-0 mt-2"><?php esc_html_e( 'Reports', 'create-members' ); ?></h2>
<h3 class="content-header mr_p_5"><?php esc_html_e( 'Performance', 'create-members' ); ?></h3>
<div class="summary report-section">
	<?php
	foreach ( $cards as $key => $value ) {
		?>
			<div class="item">
				<div class="content">
					<p><?php echo esc_html( $value['title'] ); ?></p>
					<h3><?php echo esc_html( $value['total_data'] ); ?></php></h3>
					<div class="summary-list mt-3">
					<?php foreach ( $value['summary'] as $index => $item ) { ?>
							<div>
								<div><?php echo esc_html( $item['title'] ); ?></div>
								<div><?php echo Helper::kses( $item['data'] ); ?></div></div>
						<?php } ?>
					</div>
				</div>
				<div class="actions center-item">
					<div class="icon mb-2"><?php echo Helper::kses( $value['icon'] ); ?></div>
					<a href="<?php echo esc_url( $value['details_link'] ); ?>" 
					class="details details-<?php echo esc_attr( $key ); ?>"
					target="_self"
					>
				<?php esc_html_e( 'View Details', 'create-members' ); ?>
					</a>
				</div>

			</div>
			<?php
	}
	?>
</div>